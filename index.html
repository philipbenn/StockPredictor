<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Predictor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
<h1>Stock Predictor</h1>

<h2>Test Data (5 Days leading up to the Prediction)</h2>

<form action="/" method="post">
    <table>
        <thead>
        <tr>
            <th>Open</th>
            <th>Close</th>
            <th>High</th>
            <th>Low</th>
        </tr>
        </thead>

        <tbody id="test-data-body">
        {% for i in range(1, 6) %}
            <tr>
                <td><input type="text" name="open{{ i }}"></td>
                <td><input type="text" name="close{{ i }}"></td>
                <td><input type="text" name="high{{ i }}"></td>
                <td><input type="text" name="low{{ i }}"></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <input type="submit" value="Submit">
</form>

<!-- Button to fill in data with hardcoded numbers -->
<button onclick="fillData()">Fill with Hardcoded Data</button>

<p>{{ predictions }}</p>


<script>
    function fillData() {
        const openInputs = document.querySelectorAll('input[name^="open"]');
        const closeInputs = document.querySelectorAll('input[name^="close"]');
        const highInputs = document.querySelectorAll('input[name^="high"]');
        const lowInputs = document.querySelectorAll('input[name^="low"]');

        const testData = [
        [5267.84, 5340.26, 5341.88, 5256.93],
        [5307.01, 5319.28, 5323.18, 5286.01],
        [5321.41, 5298.69, 5324.32, 5297.87],
        [5308.13, 5305.35, 5325.32, 5302.4],
        [5303.27, 5303.1, 5305.45, 5283.59],
      ];

        testData.forEach((data, index) => {
            openInputs[index].value = data[0];
            closeInputs[index].value = data[1];
            highInputs[index].value = data[2];
            lowInputs[index].value = data[3];
        });

        /* openInputs.forEach((input, index) => {
            input.value = 5000 + index * 100;
        });

        closeInputs.forEach((input, index) => {
            input.value = 4900 + index * 100;
        });

        highInputs.forEach((input, index) => {
            input.value = 5100 + index * 100;
        });

        lowInputs.forEach((input, index) => {
            input.value = 4800 + index * 100;
        }); */
    }

    // Log messages to the browser console
    {% if console_logs %}
        const logs = {{ console_logs|tojson|safe }};
        logs.forEach(log => console.log(log));
    {% endif %}
</script>

</body>
</html>
